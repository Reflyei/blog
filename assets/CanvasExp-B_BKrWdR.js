import{_ as y,c as g,o as v,a as S,f as x,g as w}from"./app-DZFtogLw.js";const m={__name:"CanvasExp",setup(_,{expose:d}){d();const l=x(null);let e=null,t=null;function c(){t=l.value,t.width=400,t.height=400,e=t.getContext("2d"),t.width=t.width,t.height=t.height,t.style.width="$cv.width}px",t.style.height=`${t.height}px`,e.lineWidth=1,e.fillRect(0,0,t.width,t.height),e.globalCompositeOperation="source-over",new p(30,150).draw()}class p{constructor(s=60,r=550){this.points=new Array(s).fill(0).map(()=>new u),this.maxDis=r}draw(){requestAnimationFrame(()=>{this.draw()}),e.clearRect(0,0,t.width,t.height);for(let s=0;s<this.points.length;s++){const r=this.points[s];r.draw();for(let o=0;o<this.points.length;o++){const h=this.points[o],a=Math.sqrt((h.x-r.x)**2+(h.y-r.y)**2);a>this.maxDis||(e.beginPath(),e.moveTo(r.x,r.y),e.lineTo(h.x,h.y),e.closePath(),e.strokeStyle=`rgba(200,200,200, ${1-a/this.maxDis})`,e.stroke())}}}}class u{constructor(){this.r=5,this.x=n(0,t.width-this.r/2),this.y=n(0,t.height-this.r/2),this.xSpeed=n(-80,80),this.ySpeed=n(-80,80),this.lastDrawTime=null}draw(){if(this.lastDrawTime){const s=(Date.now()-this.lastDrawTime)/1e3,r=this.xSpeed*s,o=this.ySpeed*s;let h=this.x+r,a=this.y+o;h>t.width-this.r/2?(h=t.width-this.r/2,this.xSpeed=-this.xSpeed):h<this.r/2&&(h=this.r/2,this.xSpeed=-this.xSpeed),a>t.height-this.r/2?(a=t.height-this.r/2,this.ySpeed=-this.ySpeed):a<this.r/2&&(a=this.r/2,this.ySpeed=-this.ySpeed),this.x=h,this.y=a}e.beginPath(),e.arc(this.x,this.y,this.r,0,2*Math.PI),e.fillStyle="#fff",e.fill(),this.lastDrawTime=Date.now()}}function n(i,s){return i=Math.ceil(i),s=Math.floor(s),Math.random()*(s-i+1)+i}w(()=>{c()});const f={cvs:l,get ctx(){return e},set ctx(i){e=i},get cv(){return t},set cv(i){t=i},init:c,Graph:p,Point:u,getRadom:n,onMounted:w,ref:x};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}},D={class:"cvs",ref:"cvs"};function $(_,d,l,e,t,c){return v(),g("div",null,[S("canvas",D,null,512)])}const M=y(m,[["render",$],["__file","CanvasExp.vue"]]);export{M as default};
